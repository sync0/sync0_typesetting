% Dialogue (must be loaded before polyglossia to avoid compilation
% errors)
%% This package typesets dialogue as in plays.
\usepackage{dialogue}
% Polyglossia
%% Language-specific typesetting. 
\usepackage{polyglossia} 

% Csquotes
%% Set threshold for turning an in-text quote into a block quote.
\usepackage[autostyle=true,
english=american,
french=guillemets,
thresholdtype=words,
threshold=3]{csquotes}

% AMS
%% Settings for typesetting math, symbols, and formulae. 
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
%% Cross out symbols and arrows with \centernot command. 
\usepackage{centernot}
%% Cross out symbols and arrows with \cancel command. 
\usepackage{cancel}

% Hyperref
%% Allow hyperlinks. 
\usepackage{hyperref}
\hypersetup{colorlinks,
  urlcolor=bibleblue,
  linkcolor=bibleblue,
  citecolor=bibleblue,
  filecolor=black}

% Tables
%% Improve typesetting of tables.
% \usepackage{tabu}
\usepackage{makecell}
\usepackage{array}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage[most]{tcolorbox}

% Typography
%% Prevent ugly typesetting in two-column mode.
\usepackage{balance}
%% Correctly typeset ragged text
\usepackage{ragged2e}
%% Prevent widows (dangling lines at the top or bottom of pages).
\usepackage[all]{nowidow}
%% Correctly typeset 'verbatim' environments. 
% \usepackage[breaklines=true]{listings}
%% Correctly typeset lists with 'itemize' environments.
\usepackage{enumitem}
%% Beautify the page with typographic symbols.
\usepackage{adforn}
\usepackage[object=vectorian]{pgfornament}
%% Correctly typeset floats.
\usepackage{float}
%% Add blank pages. 
\usepackage{emptypage}

% Colors
%% Allow colors. 
\usepackage{xcolor}
%% Allow colored tables. 
% \usepackage{colortbl}

% Graphics 
%% Prevent strange problem with quoting of entities. 
\makeatletter
\let\quote@name\unquote@name
\makeatother
%% Allow graphics.
\usepackage{graphicx}
%% Choose graphics folder.
\graphicspath{{/home/sync0/Pictures/research/}}
%% Allow graphics that wrap around text. 
\usepackage{wrapfig}
%% Allow footnotes in tables.
% \usepackage{tablefootnote}
%% Color code blocks.
% \usepackage{minted}
%% Typeset internet icons (required for CV).
\usepackage{fontawesome}
%% Add TiKz graphics in LaTeX.
\usepackage{tikz}
% \usepackage{tikzrput}
% \usetikzlibrary{positioning}
% \tikzset{main node/.style={circle,fill=gray!45,draw,minimum size=0.5cm,inner sep=0pt},}

% General KOMA-Script settings. 
%% Set different line spacing after table of contents
% \AfterTOCHead{\singlespacing}

%% Set font for 'description' environment. Requires enumitem package.
% \setlist[description]{font=\sffamily\scshape\mdseries\small}
% \setlist[description]{font=\sffamily\mdseries}

% Custom 
%% Commands
%%% Raccourci: SiÃ¨cle en chiffres romaines. 
\newcommand{\sie}[1]{\textsc{\romannumeral #1}\textsuperscript{e}}

%% Environments 
%%% Summary box (margin plus italics).
\newenvironment{summary}{\begin{addmargin}{2em}\begin{itshape}}{\end{itshape}\end{addmargin}\vspace{\baselineskip}}

%% Tcolorboxes
\newtcolorbox{modified}[1][]{grow to right by=0mm,
  grow to left by=-1em,
  boxrule=1pt,
  boxsep=0pt,
  breakable,
  enhanced jigsaw,
  borderline west={0pt}{0pt}{lightgrey},
  lower separated=false,
  sharp corners,
  colframe=white, #1}

%%% Note box.
\newtcolorbox{note}[2][]{grow to right by=0mm,
  grow to left by=-1em,
  boxrule=0pt,boxsep=0pt,
  opacityback=0.0,
  breakable,
  parbox=false,
  enhanced jigsaw,
  sharp corners,
  borderline west={4pt}{0pt}{lightgrey},
  title={#2},coltitle={black},
  attach title to upper={},
  halign title=right,
  after title={\smallskip\par}#1}

%%% Question box. 
\newtcolorbox{question}[2][]{grow to right by=0mm,
  grow to left by=-1em,
  sharp corners,
  boxrule=0pt,
  boxsep=0pt,
  opacityback=0.0,
  breakable,
  parbox=false,
  enhanced jigsaw,
  borderline west={4pt}{0pt}{darkgrey},
  title={#2},
  coltitle={black},
  attach title to upper={},
  halign title=right,
  after title={\smallskip\par}#1}

%%% Definition box.
\newtcolorbox{definition}[3][]{grow to right by=0mm,
  grow to left by=-1em,
  boxrule=0pt,
  boxsep=0pt,
  opacityback=0.0,
  breakable,
  enhanced jigsaw,
  sharp corners,
  borderline west={4pt}{0pt}{midgrey},
  title={#2},coltitle={black},
  fonttitle={\sffamily\bfseries},
  sharp corners,
  fontupper={\normalsize},
  fontlower={\itshape},
  lower separated=false,
  attach title to upper={},
  after title={\hspace{1em}{\rmfamily\mdseries\itshape #3}\par}#1}

%% Colors
%%% Define color for hyperlinks. 
\definecolor{bibleblue}{HTML}{00339a}
%%% Define color for TODO notes. 
\definecolor{whitegrey}{HTML}{f7f7f7}
\definecolor{lightgrey}{HTML}{cccccc}
\definecolor{midgrey}{HTML}{969696}
\definecolor{darkgrey}{HTML}{636363}
\definecolor{blackgrey}{HTML}{252525}
% The following color scheme was taken from:
% https://colorhunt.co/palette/206966
\definecolor{pastelblue}{HTML}{a7c5eb}
\definecolor{navyblue}{HTML}{120078}
\definecolor{pastelgreen}{HTML}{ccf6c8}
\definecolor{pastelyellow}{HTML}{fafcc2}
\definecolor{brightyellow}{HTML}{fecd1a}
\definecolor{pastelorange}{HTML}{f6d6ad}
\definecolor{pastelpink}{HTML}{f9c0c0}
\definecolor{pastelviolet}{HTML}{949cdf}
\definecolor{pastelgrey}{HTML}{79a3b1}
\definecolor{pastelred}{HTML}{d35d6e}
\definecolor{brightred}{HTML}{ff4646}


%% Itemize
%%% Use 'adforn' symbols instead of 'itemize' symbols. 
% \renewcommand*\labelitemi{\adforn{33}}
% \renewcommand*\labelitemii{\adforn{73}}
% \renewcommand*\labelitemiii{\adforn{73}}
% \renewcommand*\labelitemiv{\adforn{73}}
%%% Reduce indent of 'itemize' items. 
\setlist[itemize]{leftmargin=*,label={\adforn{2}}}

%% Mathematics
\newcommand{\notimplies}{\centernot\implies}

% Define '\notimplies' macro. Requires 'centernot' package. 
\newcommand{\timebullet}{\makebox[0pt]{\textbullet}\hskip-0.5pt\vrule width 1pt\hspace{\labelsep}}
% Needed to path \addchaptertocentry
\usepackage{xpatch}

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist 

% Define macro to insert blank pages. 
\newcommand\blankpage{%
    \null
    \thispagestyle{empty}%
    \newpage}

% Define X columns with centering.
  \newcolumntype{Y}{>{\centering\arraybackslash}X}

% Define the abstract environment for all 
%% \newcommand\abstractname{Abstract}  %%% here
%% \makeatletter
%% \if@titlepage
%%   \newenvironment{abstract}{%
%%       \titlepage
%%       \null\vfil
%%       \@beginparpenalty\@lowpenalty
%%       \begin{center}%
%%         \bfseries \abstractname
%%         \@endparpenalty\@M
%%       \end{center}}%
%%      {\par\vfil\null\endtitlepage}
%% \else
%%   \newenvironment{abstract}{%
%%       \if@twocolumn
%%         \section*{\abstractname}%
%%       \else
%%         \small
%%         \begin{center}%
%%           {\bfseries \abstractname\vspace{-.5em}\vspace{\z@}}%
%%         \end{center}%
%%         \quotation
%%       \fi}
%%       {\if@twocolumn\else\endquotation\fi}
%% \fi
%% \makeatother
